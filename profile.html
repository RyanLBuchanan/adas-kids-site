<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Setup</title>
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Quicksand", sans-serif;
        background: linear-gradient(
          to bottom right,
          #1d8348,
          #145a32
        ); /* Muted Saudi green */
        color: #f1f5f9;
      }
      input,
      select {
        color: #94a3b8;
        background-color: #0f5132;
      }
      select option {
        color: #94a3b8;
        background-color: #0f5132;
      }
      .avatar-img-large {
        width: 12rem;
        height: 12rem;
        object-fit: cover;
        border-radius: 9999px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body class="min-h-screen flex items-center justify-center px-4">
    <!-- Saudi Vision 2030 Logo Placeholder -->
    <img
      src="/assets/vision2030-logo.png"
      alt="Saudi Vision 2030 Logo"
      class="absolute top-4 left-4 h-12"
    />
    <div
      class="bg-white bg-opacity-10 p-8 rounded-xl shadow-lg w-full max-w-md border border-slate-600"
    >
      <h1 class="text-3xl font-bold text-center mb-4" data-i18n="profileTitle">
        üë§ Your Profile
      </h1>
      <p class="text-center text-slate-300 mb-6" data-i18n="profileDesc">
        Final step‚Äîjust a few details to personalize your session.
      </p>
      <form action="avatar.html" method="GET" class="space-y-4">
        <input type="hidden" id="avatar-choice" name="avatar" />
        <input type="hidden" id="lang-choice" name="language" />

        <div>
          <label
            class="block mb-1 font-semibold text-slate-200"
            data-i18n="nameLabel"
            >Your Name</label
          >
          <input
            type="text"
            name="name"
            required
            class="w-full p-3 border border-slate-600 bg-slate-800 text-slate-300 rounded-lg"
            placeholder="Enter your name"
            data-i18n-placeholder="namePlaceholder"
          />
        </div>

        <div>
          <label
            class="block mb-1 font-semibold text-slate-200"
            data-i18n="ageLabel"
            >Your Age or Grade Level</label
          >
          <input
            type="text"
            name="age"
            required
            class="w-full p-3 border border-slate-600 bg-slate-800 text-slate-300 rounded-lg"
            placeholder="e.g., 20 or Sophomore"
            data-i18n-placeholder="agePlaceholder"
          />
        </div>

        <div class="pt-4">
          <button
            type="submit"
            class="w-full bg-pink-500 text-white py-3 rounded-lg font-semibold shadow hover:bg-pink-600"
            data-i18n="continueBtn"
          >
            Continue ‚Üí
          </button>
        </div>
      </form>
    </div>

    <!-- include your translation & i18n script last -->
    <script src="js/script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // 1Ô∏è‚É£ Your translation table
        const translations = {
          en: {
            home: "Home",
            vision: "Vision",
            demo: "Saudi Demo",
            reports: "Reports",
            settings: "Settings",
            talkAda: "Talk to Ada",

            preferredLang: "Preferred Language",
            existingUser: "üë§ Existing User",
            username: "Username",
            password: "Password",
            loginBtn: "Log In ‚Üí",

            newUser: "‚ú® New to Ada's Kids?",
            newUserDesc:
              "Create a profile to begin your personalized learning journey.",
            createProf: "Create Profile ‚Üí",

            placeholder: "Your name",
            selectLang: "Select a language",
            profileTitle: "Your Profile",
            profileDesc:
              "Final step‚Äîjust a few details to personalize your session.",
            nameLabel: "Your Name",
            namePlaceholder: "Enter your name",
            ageLabel: "Your Age or Grade Level",
            agePlaceholder: "e.g., 20 or Sophomore",
            continueBtn: "Continue ‚Üí",
          },

          es: {
            home: "Inicio",
            vision: "Visi√≥n",
            demo: "Demostraci√≥n saud√≠",
            reports: "Informes",
            settings: "Configuraci√≥n",
            talkAda: "Hablar con Ada",

            preferredLang: "Idioma preferido",
            existingUser: "üë§ Usuario existente",
            username: "Nombre de usuario",
            password: "Contrase√±a",
            loginBtn: "Iniciar sesi√≥n ‚Üí",

            newUser: "‚ú® ¬øNuevo en Ada's Kids?",
            newUserDesc:
              "Crea un perfil para comenzar tu viaje de aprendizaje personalizado.",
            createProf: "Crear perfil ‚Üí",

            placeholder: "Tu nombre",
            selectLang: "Selecciona un idioma",
            profileTitle: "Tu perfil",
            profileDesc:
              "√öltimo paso: solo algunos datos para personalizar tu sesi√≥n.",
            nameLabel: "Tu nombre",
            namePlaceholder: "Ingresa tu nombre",
            ageLabel: "Tu edad o nivel de grado",
            agePlaceholder: "p. ej., 20 o segundo a√±o",
            continueBtn: "Continuar ‚Üí",
          },

          fr: {
            home: "Accueil",
            vision: "Vision",
            demo: "D√©mo saoudienne",
            reports: "Rapports",
            settings: "Param√®tres",
            talkAda: "Parler √† Ada",

            preferredLang: "Langue pr√©f√©r√©e",
            existingUser: "üë§ Utilisateur existant",
            username: "Nom d‚Äôutilisateur",
            password: "Mot de passe",
            loginBtn: "Se connecter ‚Üí",

            newUser: "‚ú® Nouveau sur Ada‚Äôs Kids ?",
            newUserDesc:
              "Cr√©ez un profil pour commencer votre parcours d'apprentissage personnalis√©.",
            createProf: "Cr√©er un profil ‚Üí",

            placeholder: "Votre nom",
            selectLang: "S√©lectionnez une langue",
            profileTitle: "Votre profil",
            profileDesc:
              "√âtape finale ‚Äî quelques d√©tails pour personnaliser votre session.",
            nameLabel: "Votre nom",
            namePlaceholder: "Entrez votre nom",
            ageLabel: "Votre √¢ge ou niveau scolaire",
            agePlaceholder: "ex. 20 ou seconde",
            continueBtn: "Continuer ‚Üí",
          },

          de: {
            home: "Startseite",
            vision: "Vision",
            demo: "Saudi-Demo",
            reports: "Berichte",
            settings: "Einstellungen",
            talkAda: "Mit Ada sprechen",

            preferredLang: "Bevorzugte Sprache",
            existingUser: "üë§ Bestehender Benutzer",
            username: "Benutzername",
            password: "Passwort",
            loginBtn: "Anmelden ‚Üí",

            newUser: "‚ú® Neu bei Ada‚Äôs Kids?",
            newUserDesc:
              "Erstellen Sie ein Profil, um Ihre pers√∂nliche Lernreise zu starten.",
            createProf: "Profil erstellen ‚Üí",

            placeholder: "Ihr Name",
            selectLang: "Sprache ausw√§hlen",
            profileTitle: "Ihr Profil",
            profileDesc:
              "Letzter Schritt ‚Äì nur ein paar Details, um Ihre Sitzung zu personalisieren.",
            nameLabel: "Ihr Name",
            namePlaceholder: "Geben Sie Ihren Namen ein",
            ageLabel: "Ihr Alter oder Klassenstufe",
            agePlaceholder: "z. B. 20 oder 11. Klasse",
            continueBtn: "Weiter ‚Üí",
          },

          zh: {
            home: "È¶ñÈ°µ",
            vision: "ÊÑøÊôØ",
            demo: "Ê≤ôÁâπÊºîÁ§∫",
            reports: "Êä•Âëä",
            settings: "ËÆæÁΩÆ",
            talkAda: "‰∏é Ada ÂØπËØù",

            preferredLang: "È¶ñÈÄâËØ≠Ë®Ä",
            existingUser: "üë§ Áé∞ÊúâÁî®Êà∑",
            username: "Áî®Êà∑Âêç",
            password: "ÂØÜÁ†Å",
            loginBtn: "ÁôªÂΩï ‚Üí",

            newUser: "‚ú® Êñ∞Áî®Êà∑Ôºü",
            newUserDesc: "ÂàõÂª∫‰∏™‰∫∫ËµÑÊñôÔºåÂºÄÂßãÊÇ®ÁöÑ‰∏™ÊÄßÂåñÂ≠¶‰π†‰πãÊóÖ„ÄÇ",
            createProf: "ÂàõÂª∫‰∏™‰∫∫ËµÑÊñô ‚Üí",

            placeholder: "ÊÇ®ÁöÑÂêçÂ≠ó",
            selectLang: "ËØ∑ÈÄâÊã©ËØ≠Ë®Ä",
            profileTitle: "ÊÇ®ÁöÑ‰∏™‰∫∫ËµÑÊñô",
            profileDesc: "ÊúÄÂêé‰∏ÄÊ≠•‚Äî‚ÄîÂè™ÈúÄÊèê‰æõ‰∏Ä‰∫õËØ¶ÁªÜ‰ø°ÊÅØ‰ª•‰∏™ÊÄßÂåñÊÇ®ÁöÑ‰ºöËØù„ÄÇ",
            nameLabel: "ÊÇ®ÁöÑÂßìÂêç",
            namePlaceholder: "ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêç",
            ageLabel: "ÊÇ®ÁöÑÂπ¥ÈæÑÊàñÂπ¥Á∫ß",
            agePlaceholder: "‰æãÂ¶ÇÔºå20 Êàñ Â§ß‰∫å",
            continueBtn: "ÁªßÁª≠ ‚Üí",
          },

          ar: {
            home: "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
            vision: "ÿßŸÑÿ±ÿ§Ÿäÿ©",
            demo: "ÿπÿ±ÿ∂ ÿ≥ÿπŸàÿØŸä",
            reports: "ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±",
            settings: "ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™",
            talkAda: "ÿßŸÑÿ™ÿ≠ÿØÿ´ ŸÖÿπ Ada",

            preferredLang: "ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©",
            existingUser: "üë§ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ≠ÿßŸÑŸä",
            username: "ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",
            password: "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
            loginBtn: "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ‚Üí",

            newUser: "‚ú® ÿ¨ÿØŸäÿØ ŸÅŸä ÿ£ÿ∑ŸÅÿßŸÑ ÿ¢ÿØÿßÿü",
            newUserDesc:
              "ÿ£ŸÜÿ¥ÿ¶ ŸÖŸÑŸÅŸãÿß ÿ¥ÿÆÿµŸäŸãÿß ŸÑÿ®ÿØÿ° ÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÖÿÆÿµÿµÿ© ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÉ.",
            createProf: "ÿ•ŸÜÿ¥ÿßÿ° ŸÖŸÑŸÅ ÿßŸÑÿ™ÿπÿ±ŸäŸÅ ‚Üí",

            placeholder: "ÿßÿ≥ŸÖŸÉ",
            selectLang: "ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ©",
            profileTitle: "ŸÖŸÑŸÅŸÉ ÿßŸÑÿ¥ÿÆÿµŸä",
            profileDesc: "ÿßŸÑÿÆÿ∑Ÿàÿ© ÿßŸÑÿ£ÿÆŸäÿ±ÿ©‚Äîÿ®ÿπÿ∂ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ŸÅŸÇÿ∑ ŸÑÿ™ÿÆÿµŸäÿµ ÿ¨ŸÑÿ≥ÿ™ŸÉ.",
            nameLabel: "ÿßÿ≥ŸÖŸÉ",
            namePlaceholder: "ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ",
            ageLabel: "ÿπŸÖÿ±ŸÉ ÿ£Ÿà ÿßŸÑÿµŸÅ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä",
            agePlaceholder: "ŸÖÿ´ŸÑÿßŸã: 20 ÿ£Ÿà ÿßŸÑÿµŸÅ ÿßŸÑÿπÿßÿ¥ÿ±",
            continueBtn: "ŸÖÿ™ÿßÿ®ÿπÿ© ‚Üí",
          },

          it: {
            home: "Home",
            vision: "Visione",
            demo: "Demo Saudita",
            reports: "Report",
            settings: "Impostazioni",
            talkAda: "Parla con Ada",

            preferredLang: "Lingua preferita",
            existingUser: "üë§ Utente esistente",
            username: "Nome utente",
            password: "Password",
            loginBtn: "Accedi ‚Üí",

            newUser: "‚ú® Nuovo in Ada‚Äôs Kids?",
            newUserDesc:
              "Crea un profilo per iniziare il tuo percorso di apprendimento personalizzato.",
            createProf: "Crea profilo ‚Üí",

            placeholder: "Il tuo nome",
            selectLang: "Seleziona una lingua",
            profileTitle: "Il tuo profilo",
            profileDesc:
              "Passaggio finale‚Äîsolo alcuni dettagli per personalizzare la tua sessione.",
            nameLabel: "Il tuo nome",
            namePlaceholder: "Inserisci il tuo nome",
            ageLabel: "La tua et√† o livello scolastico",
            agePlaceholder: "es., 20 o secondo anno",
            continueBtn: "Continua ‚Üí",
          },
          af: {
            home: "Tuis",
            vision: "Visie",
            demo: "Saoedi-demo",
            reports: "Verslae",
            settings: "Instellings",
            talkAda: "Praat met Ada",

            preferredLang: "Geselekteerde taal",
            existingUser: "üë§ Bestaande gebruiker",
            username: "Gebruikersnaam",
            password: "Wagwoord",
            loginBtn: "Teken in ‚Üí",

            newUser: "‚ú® Nuut by Ada‚Äôs Kids?",
            newUserDesc:
              "Skep ‚Äôn profiel om jou gepersonaliseerde leerreis te begin.",
            createProf: "Skep profiel ‚Üí",

            placeholder: "Jou naam",
            selectLang: "Kies ‚Äôn taal",

            settingsTitle: "Instellings | Ada's Kids",
            settingsHeading: "‚öôÔ∏è Instellings",
            customizeHeading: "Pas jou ervaring aan",
            colorTheme: "Kleurtema",
            themeDark: "Donker (verstek)",
            themeLight: "Lig",
            themeContrast: "Kontraskontras",
            languageLabel: "Taal",
            voiceOutputLabel: "Skakel stemuitset in",
            voiceOutputDesc: "Ada sal boodskappe hardop voorlees",
            emailNotifLabel: "E-poskennisgewings",
            emailNotifDesc: "Kry opdaterings oor leer vordering",
            saveSettings: "Stoor instellings",
            profileTitle: "Jou profiel",
            profileDesc:
              "Laaste stap‚Äînet ‚Äôn paar besonderhede om jou sessie te personaliseer.",
            nameLabel: "Jou naam",
            namePlaceholder: "Voer jou naam in",
            ageLabel: "Jou ouderdom of graadvlak",
            agePlaceholder: "bv., 20 of tweede jaar",
            continueBtn: "Gaan voort ‚Üí",
          },
        };

        // 2Ô∏è‚É£ Helper to swap all [data-i18n] tags
        function translatePage(lang) {
          // 1) swap all [data-i18n] innerText
          document.querySelectorAll("[data-i18n]").forEach((el) => {
            const key = el.getAttribute("data-i18n");
            const txt = translations[lang]?.[key];
            if (txt) el.innerText = txt;
          });

          // 2) **new** ‚Äî swap all [data-i18n-placeholder] placeholders
          document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
            const key = el.getAttribute("data-i18n-placeholder");
            const txt = translations[lang]?.[key];
            if (txt) el.setAttribute("placeholder", txt);
          });
        }

        // 3Ô∏è‚É£ Read the current ?language=‚Ä¶ or default
        const params = new URLSearchParams(location.search);
        let lang = params.get("language");
        if (!translations[lang]) lang = "en";

        // 4Ô∏è‚É£ Initial render
        translatePage(lang);

        // 5Ô∏è‚É£ Wire up the <select id="language-select">
        const sel = document.getElementById("language-select");
        if (sel) {
          sel.value = lang;
          sel.addEventListener("change", () => {
            lang = sel.value;
            params.set("language", lang);
            translatePage(lang);
            history.replaceState(null, "", "?" + params.toString());

            // keep hidden login field in sync
            const hidden = document.getElementById("language-choice");
            if (hidden) hidden.value = lang;

            // update all nav links so they carry ?language=‚Ä¶
            document.querySelectorAll("header nav a[href]").forEach((a) => {
              const url = new URL(a.href, location.origin);
              url.searchParams.set("language", lang);
              a.href = url.toString();
            });
          });
        }
      });
    </script>
    <!-- then this inline bootstrapper -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const params = new URLSearchParams(location.search);
        // 1) figure out which lang we're in
        let lang = params.get("language") || "en";
        // 2) stick it in the hidden field so avatar.html also sees it
        const hiddenLang = document.getElementById("lang-choice");
        if (hiddenLang) hiddenLang.value = lang;
        // 3) translate all [data-i18n] and [data-i18n-placeholder]
        if (typeof translatePage === "function") {
          translatePage(lang);
        }
      });
    </script>
  </body>
</html>
