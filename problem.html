<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Problem Walkthrough | Ada's Kids</title>
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />

    <!-- Tailwind CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Quicksand", sans-serif;
        background: linear-gradient(
          to bottom right,
          #1d8348,
          #145a32
        ); /* Muted Saudi green */
        color: #f1f5f9;
      }
      input,
      select {
        color: #94a3b8;
        background-color: #0f5132;
      }
      select option {
        color: #94a3b8;
        background-color: #0f5132;
      }
    </style>
  </head>

  <body class="min-h-screen">
    <!-- Header -->
    <header
      class="text-center py-6 shadow bg-white bg-opacity-10 backdrop-blur"
    >
      <!-- Saudi Vision 2030 Logo Placeholder -->
      <img
        src="/assets/vision2030-logo.png"
        alt="Saudi Vision 2030 Logo"
        class="absolute top-4 left-4 h-12"
      />
      <h1 class="text-3xl font-bold text-white">Problem Walkthrough</h1>
      <p class="text-sm text-slate-300">
        Step-by-step guided solution &amp; diagrams
      </p>
    </header>

    <!-- Walkthrough Container -->
    <main class="max-w-4xl mx-auto px-4 py-10">
      <div
        id="walkthrough-content"
        class="bg-white bg-opacity-10 rounded-xl shadow-inner h-[70vh] overflow-y-auto p-6"
      >
        <!-- JS will inject the step-by-step here -->
      </div>

      <div class="mt-6 text-center">
        <a
          id="back-to-chat"
          class="inline-block bg-pink-500 text-white px-6 py-2 rounded-lg font-semibold shadow hover:bg-pink-600"
        >
          ← Back to Chat
        </a>
      </div>
    </main>

    <footer class="text-center py-4 text-sm text-slate-400">
      <a href="/" class="underline hover:text-white">← Home</a>
    </footer>

    <!-- Walkthrough logic -->
    <script src="js/walkthrough.js"></script>
    <script>
      // Preserve avatar and name from query string
      const params = new URLSearchParams(window.location.search);
      const avatar = params.get("avatar");
      const name = params.get("name");

      const backLink = document.getElementById("back-to-chat");
      if (backLink && avatar && name) {
        backLink.href = `play.html?avatar=${avatar}&name=${encodeURIComponent(
          name
        )}`;
      }
    </script>
  </body>
</html>
